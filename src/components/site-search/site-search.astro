---
import './site-search.css'

const meta = {
	'title': 'Search the Site',
	'title-description': 'results will update as you type',
	'field-label': 'Search the Site',
	'field-placeholder': 'Search...',
	'results-label': 'Search Results',
	'footer-url': 'https://www.algolia.com/ref/docsearch/?utm_source=astrouxds.org&utm_medium=referral&utm_content=powered_by&utm_campaign=docsearch',
} as const
---
<form class="p-search" id="search">
	<span class="content" role="search" aria-label={meta.title}>
		<span class="field-decorator">
			<svg class="field-decorator-icon" viewBox="0 0 24 24" width="24" height="24">
				<path d="M14.71 14H15.5L19.74 18.26C20.15 18.67 20.15 19.34 19.74 19.75C19.33 20.16 18.66 20.16 18.25 19.75L14 15.5V14.71L13.73 14.43C12.33 15.63 10.42 16.25 8.39002 15.91C5.61002 15.44 3.39002 13.12 3.05002 10.32C2.53002 6.09 6.09002 2.53 10.32 3.05C13.12 3.39 15.44 5.61 15.91 8.39C16.25 10.42 15.63 12.33 14.43 13.73L14.71 14ZM5.00002 9.5C5.00002 11.99 7.01002 14 9.50002 14C11.99 14 14 11.99 14 9.5C14 7.01 11.99 5 9.50002 5C7.01002 5 5.00002 7.01 5.00002 9.5Z" />
			</svg>
			<input class="field" id="search-field" type="search" aria-describedby="search-description" aria-label={meta['field-label']} placeholder={meta['field-placeholder']} autocomplete="off" />
		</span>
		<p class="description visually-hidden" id="search-description" aria-hidden="true">{meta['title-description']}</p>
		<p class="status" id="search-status" role="status"></p>
		<section class="results" id="search-results" aria-label={meta['results-label']} tabindex="-1"></section>
	</span>
	<p class="footer"><slot name="footer"><a href={meta['footer-url']} target="_blank" rel="noopener">Search by Algolia</a></slot></p>
</form>
<script>import './site-search.client.ts'</script>