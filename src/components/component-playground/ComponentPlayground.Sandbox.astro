---
export interface Props {
	'is:tag': string
	'is:constructor': string
	[name: string]: string
}

const {
	'is:tag': Tag,
	'is:constructor': Constructor,
} = Astro.props

const scriptContent = [
	`import{${Constructor}}from'https://cdn.jsdelivr.net/npm/@astrouxds/astro-web-components@7.7.0/dist/components/${Tag}.js/+esm'`,
	`customElements.define('${Tag}',${Constructor})`,
	`globalThis.$target=document.querySelector('${Tag}')`,
].join(';')
---
<slot />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@astrouxds/tokens@1.5.0/dist/css/index.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@astrouxds/tokens@1.5.0/dist/css/theme.light.css" />
<script type="module" set:html={scriptContent} />