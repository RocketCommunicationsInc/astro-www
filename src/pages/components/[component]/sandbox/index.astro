---
import { type PlaygroundRecord } from 'project:data/component-playgrounds.record.json'
import Layout from 'project:components/component-playground/IFrameLayout.astro'

export async function getStaticPaths() {
	const { records } = await import('project:data/component-playgrounds.record.json')
	const matchRE = /^\/components\/([^/]+)\/$/
	const trim = (route: string) => route.replace(matchRE, '$1')

	return records.filter(
		(record) => matchRE.test(record.route)
	).map(
		(record) => ({
			params: {
				component: trim(record.route),
			},
			props: record,
		})
	)
}

export type Props = PlaygroundRecord
---
<Layout {...Astro.props} />